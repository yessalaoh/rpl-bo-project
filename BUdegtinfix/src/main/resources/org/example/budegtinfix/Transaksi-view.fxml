<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.collections.FXCollections?>
<?import javafx.scene.paint.Color?>

<?import java.lang.String?>
<?import javafx.geometry.Insets?>
<BorderPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity"
            prefHeight="650.0" prefWidth="1000.0" style="-fx-background-color: #f5f5f5;"
            xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.example.budegtinfix.TransaksiConn">

    <!-- Header Section -->
    <top>
        <AnchorPane prefHeight="90.0" prefWidth="1000.0" style="-fx-background-color: #0698ff;">
            <Text fill="WHITE" layoutX="400.0" layoutY="55.0" strokeType="OUTSIDE" strokeWidth="0.0"
                  text="Budgetin" textAlignment="CENTER">
                <font>
                    <Font name="System Bold Italic" size="36.0" />
                </font>
            </Text>

            <HBox alignment="CENTER_RIGHT" layoutX="700.0" layoutY="20.0" spacing="10">
                <Text fill="WHITE" strokeType="OUTSIDE" strokeWidth="0.0" text="Halo, Gerry">
                    <font>
                        <Font name="System Bold" size="14.0" />
                    </font>
                </Text>
                <ImageView fitHeight="45.0" fitWidth="45.0">
                    <Image url="@../../../Image/Logo-User.png" />
                </ImageView>
            </HBox>

            <HBox alignment="CENTER_LEFT" layoutX="20.0" layoutY="20.0" spacing="10">
                <ImageView fitHeight="40.0" fitWidth="40.0">
                    <Image url="@../../../Image/Logo-Notifikasi.png" />
                </ImageView>
                <Button id="Notif" fx:id="notifBtn" mnemonicParsing="false"
                        onAction="#notifikasiBtnClicked" style="-fx-background-color: transparent;"
                        text="Notifikasi" textFill="WHITE">
                    <font>
                        <Font name="System Bold" size="14.0" />
                    </font>
                </Button>
            </HBox>
        </AnchorPane>
    </top>

    <!-- Sidebar Menu -->
    <left>
        <VBox prefWidth="200.0" style="-fx-background-color: #36454F;" spacing="15">
            <padding>
                <Insets top="20" right="10" bottom="20" left="10"/>
            </padding>

            <!-- Menu Items -->
            <VBox spacing="20">
                <!-- Transaksi -->
                <HBox alignment="CENTER_LEFT" spacing="15">
                    <ImageView fitHeight="28.0" fitWidth="28.0">
                        <Image url="@../../../Image/Logo-Transaksi.png" />
                    </ImageView>
                    <Button fx:id="transaksiBtn" mnemonicParsing="false"
                            style="-fx-background-color: transparent;" text="Transaksi" textFill="WHITE">
                        <font>
                            <Font name="System Bold" size="14.0" />
                        </font>
                    </Button>
                </HBox>

                <!-- Kategori -->
                <HBox alignment="CENTER_LEFT" spacing="15">
                    <ImageView fitHeight="28.0" fitWidth="28.0">
                        <Image url="@../../../Image/Logo-kategori.png" />
                    </ImageView>
                    <Button fx:id="btnKategori" mnemonicParsing="false" onAction="#kategoriBtnClicked"
                            style="-fx-background-color: transparent;" text="Kategori" textFill="WHITE">
                        <font>
                            <Font name="System Bold" size="14.0" />
                        </font>
                    </Button>
                </HBox>

                <!-- Anggaran -->
                <HBox alignment="CENTER_LEFT" spacing="15">
                    <ImageView fitHeight="28.0" fitWidth="28.0">
                        <Image url="@../../../Image/Logo-Anggaran.png" />
                    </ImageView>
                    <Button fx:id="btnAnggaran" mnemonicParsing="false" onAction="#anggaranBtnClicked"
                            style="-fx-background-color: transparent;" text="Anggaran" textFill="WHITE">
                        <font>
                            <Font name="System Bold" size="14.0" />
                        </font>
                    </Button>
                </HBox>

                <!-- Laporan -->
                <HBox alignment="CENTER_LEFT" spacing="15">
                    <ImageView fitHeight="28.0" fitWidth="28.0">
                        <Image url="@../../../Image/Logo-Laporan.png" />
                    </ImageView>
                    <Button fx:id="btnLaporan" mnemonicParsing="false" onAction="#laporanBtnClicked"
                            style="-fx-background-color: transparent;" text="Laporan" textFill="WHITE">
                        <font>
                            <Font name="System Bold" size="14.0" />
                        </font>
                    </Button>
                </HBox>

                <!-- Pengaturan -->
                <HBox alignment="CENTER_LEFT" spacing="15">
                    <ImageView fitHeight="28.0" fitWidth="28.0">
                        <Image url="@../../../Image/Logo-Pengaturan.png" />
                    </ImageView>
                    <Button fx:id="PengaturanBtn" mnemonicParsing="false" onAction="#pengaturanBtnClicked"
                            style="-fx-background-color: transparent;" text="Pengaturan" textFill="WHITE">
                        <font>
                            <Font name="System Bold" size="14.0" />
                        </font>
                    </Button>
                </HBox>

                <!-- Logout -->
                <HBox alignment="CENTER_LEFT" spacing="15">
                    <ImageView fitHeight="28.0" fitWidth="28.0">
                        <Image url="@../../../Image/Logo-logout.png" />
                    </ImageView>
                    <Button fx:id="btnLogout" mnemonicParsing="false" onAction="#logoutBtnClicked"
                            style="-fx-background-color: transparent;" text="Logout" textFill="WHITE">
                        <font>
                            <Font name="System Bold" size="14.0" />
                        </font>
                    </Button>
                </HBox>
            </VBox>
        </VBox>
    </left>

    <!-- Main Content -->
    <center>
        <VBox style="-fx-padding: 20;" spacing="15">
            <!-- Title Section -->
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Text strokeType="OUTSIDE" strokeWidth="0.0" text="Transaksi">
                    <font>
                        <Font name="System Bold" size="28.0" />
                    </font>
                </Text>
            </HBox>

            <!-- Filter Section -->
            <VBox style="-fx-background-color: white; -fx-border-radius: 5; -fx-background-radius: 5; -fx-padding: 15;"
                  spacing="15">
                <HBox spacing="20" alignment="CENTER_LEFT">
                    <!-- Transaction Type Filter -->
                    <VBox spacing="5" prefWidth="200">
                        <Label text="Jenis Transaksi:" style="-fx-font-weight: bold;"/>
                        <ComboBox fx:id="comboJenisTransaksi" prefWidth="200">
                            <items>
                                <FXCollections fx:factory="observableArrayList">
                                    <String fx:value="Semua"/>
                                    <String fx:value="Pemasukan"/>
                                    <String fx:value="Pengeluaran"/>
                                </FXCollections>
                            </items>
                        </ComboBox>
                    </VBox>

                    <!-- Date Range Filter -->
                    <VBox spacing="5" prefWidth="350">
                        <Label text="Rentang Waktu:" style="-fx-font-weight: bold;"/>
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <DatePicker fx:id="datePickerStart" prefWidth="150" promptText="Mulai"/>
                            <Label text="sampai"/>
                            <DatePicker fx:id="datePickerEnd" prefWidth="150" promptText="Sampai"/>
                        </HBox>
                    </VBox>

                    <!-- Category Filter -->
                    <VBox spacing="5" prefWidth="200">
                        <Label text="Kategori:" style="-fx-font-weight: bold;"/>
                        <ComboBox fx:id="comboKategori" prefWidth="200" promptText="Semua Kategori">

                        </ComboBox>
                    </VBox>
                </HBox>

                <HBox spacing="10" alignment="CENTER_RIGHT">
                    <Button fx:id="btnResetFilter" mnemonicParsing="false"
                            onAction="#resetFilterClicked" prefWidth="100"
                            style="-fx-background-color: #a9a9a9;" text="Reset" textFill="WHITE">
                        <font>
                            <Font name="System Bold" size="12.0" />
                        </font>
                    </Button>
                    <Button fx:id="btnApplyFilter" mnemonicParsing="false"
                            onAction="#applyFilterClicked" prefWidth="100"
                            style="-fx-background-color: #0698ff;" text="Terapkan" textFill="WHITE">
                        <font>
                            <Font name="System Bold" size="12.0" />
                        </font>
                    </Button>
                </HBox>
            </VBox>

            <!-- Transaction Table -->
            <VBox style="-fx-background-color: white; -fx-border-radius: 5; -fx-background-radius: 5; -fx-padding: 10;"
                  spacing="10">
                <TreeTableView fx:id="treeTableTransaksi" prefHeight="400.0">
                    <columns>
                        <TreeTableColumn fx:id="colTanggal" prefWidth="120.0" text="Tanggal"/>
                        <TreeTableColumn fx:id="colJenis" prefWidth="100.0" text="Jenis"/>
                        <TreeTableColumn fx:id="colKategori" prefWidth="120.0" text="Kategori"/>
                        <TreeTableColumn fx:id="colDeskripsi" prefWidth="250.0" text="Deskripsi"/>
                        <TreeTableColumn fx:id="colJumlah" prefWidth="150.0" text="Jumlah (Rp)"/>
                        <TreeTableColumn fx:id="colDokumen" prefWidth="80.0" text="Dokumen"/>
                        <TreeTableColumn fx:id="colAksi" prefWidth="150.0" text="Aksi"/>
                    </columns>
                </TreeTableView>
            </VBox>

            <HBox alignment="CENTER_RIGHT">
                <Button fx:id="btnTambahTransaksi" mnemonicParsing="false"
                        onAction="#tambahBtnClicked" prefWidth="250" prefHeight="40"
                        style="-fx-background-color: #0698ff;" text="+ Tambah Transaksi" textFill="WHITE">
                    <font>
                        <Font name="System Bold" size="16.0" />
                    </font>
                </Button>
            </HBox>
        </VBox>
    </center>
</BorderPane>